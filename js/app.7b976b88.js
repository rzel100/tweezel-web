(function(){"use strict";var e={5515:function(e,t,o){var a=o(9242),l=o(1020),s=o(3396),r=o(7139),n=o(4870);const i=(0,l.Q_)({id:"story",state:()=>({counter:0,storyId:0,story:[],group:[],groupState:"",playState:"play",isWrap:!1,askInstall:!0,detectErrPassage:!0,innerHeight:0,playedStory:[],theme:"business",themeList:["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],maxStorage:0,currentStorage:0}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}},persist:!0}),c=["data-theme"],d={key:0,class:"absolute bottom-0 w-full flex justify-center items-center p-2 z-50"},u={role:"alert",class:"alert alert-success shadow-lg flex flex-row"},p=(0,s._)("div",null,[(0,s._)("span",null,"Install TweezeL To Ur Device !. It Doesn't Take Storage And Work Offline !.")],-1),m={class:"flex-none"};var g={__name:"App",setup(e){const t=i(),o=(0,n.iH)(null);window.addEventListener("beforeinstallprompt",(e=>{t.askInstall&&(e.preventDefault(),o.value=e)})),window.addEventListener("appinstalled",(()=>{o.value=null})),window.addEventListener("resize",(()=>{t.innerHeight=window.innerHeight}));const a=()=>{o.value=null,t.askInstall=!1};return t.innerHeight=window.innerHeight,(e,l)=>{const i=(0,s.up)("RouterView");return(0,s.wg)(),(0,s.iD)("div",{class:"font-sans h-screen relative",style:(0,r.j5)({height:(0,n.SU)(t).innerHeight+"px"}),"data-theme":(0,n.SU)(t).theme},[o.value?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[p,(0,s._)("div",m,[(0,s._)("button",{onClick:l[0]||(l[0]=e=>a()),class:"btn btn-sm btn-ghost"},"Never"),(0,s._)("button",{onClick:l[1]||(l[1]=e=>o.value=null),class:"btn btn-sm btn-ghost"},"Deny"),(0,s._)("button",{onClick:l[2]||(l[2]=e=>o.value.prompt()),class:"btn btn-sm btn-primary"},"Install")])])])):(0,s.kq)("",!0),(0,s.Wm)(i)],12,c)}}};const b=g;var h=b,y=o(5431);(0,y.z)("/tweezel-web/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var f=o(2483),w=(o(3408),o(4590),o(7658),o(6983)),v=o.n(w),_=o(5860);const k={class:"navbar bg-primary shadow-lg text-primary-content"},S=(0,s._)("div",{class:"flex-1"},[(0,s._)("button",{class:"btn btn-ghost normal-case text-xl"},"TweezeL")],-1),x={class:"dropdown dropdown-bottom dropdown-end"},U=(0,s._)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-square m-1"},[(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),T={class:"dropdown-content z-[1] menu p-2 rounded-box shadow-xl bg-primary mt-4"},C={class:"p-1"},I={class:"p-1"},A={key:0,class:"p-1"},L={class:"form-control p-2"},z={class:"join w-full"},H={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},D=(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),M=[D],B={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},E=(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),j=[E],F={class:"w-full grow p-2 overflow-auto flex flex-col"},P={class:"grow overflow-auto pb-[69px]"},N={class:"relative flex items-center transition-all hover:bg-black/20"},O={key:0,class:"handle absolute left-3 cursor-move"},W=(0,s._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),q=[W],Y={class:"flex absolute right-3"},R={class:"dropdown dropdown-bottom dropdown-end"},V=(0,s._)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-sm"},[(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),G={class:"dropdown-content z-[1] menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},J=["onClick"],$=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),K=[$],Z={id:"create-modal",class:"modal modal-bottom sm:modal-middle"},Q={class:"modal-box relative"},X=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),ee=(0,s._)("h3",{class:"font-bold text-lg mb-4"},"Write An Amazing Title For Your Story...",-1),te={class:"modal-action"},oe={method:"dialog"},ae={id:"setting-modal",class:"modal modal-bottom sm:modal-middle"},le={class:"modal-box relative"},se=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),re=(0,s._)("div",{class:"divider text-xl"},"Setting",-1),ne=(0,s._)("p",{class:"text-base py-2"},"Choose Theme.",-1),ie={class:"flex flex-col gap-1"},ce=["data-theme"],de={class:"flex flex-row gap-1"},ue=(0,s._)("span",{class:"aspect-square w-5 text-center bg-primary text-primary-content"},"A",-1),pe=(0,s._)("span",{class:"aspect-square w-5 text-center bg-secondary text-secondary-content"},"A",-1),me=(0,s._)("span",{class:"aspect-square w-5 text-center bg-accent text-accent-content"},"A",-1),ge=(0,s._)("span",{class:"aspect-square w-5 text-center bg-neutral text-neutral-content"},"A",-1),be={class:"label-text capitalize"},he=["value","checked"],ye=(0,s._)("div",{class:"divider"},null,-1),fe={class:"label cursor-pointer bg-base-100 rounded-md py2"},we=["checked"],ve=(0,s._)("div",{class:"divider"},null,-1),_e=(0,s._)("p",{class:"text-base py-2"},"Load Story From Backup.",-1),ke=(0,s._)("p",{class:"text-sm py-2"},"IF THE STORY IS ALREADY EXIST. THIS WILL REPLACE IT !.",-1),Se=(0,s._)("div",{class:"divider"},null,-1),xe=(0,s._)("p",{class:"text-base py-2"},"Create Backup Of An Entire Story.",-1),Ue=(0,s._)("p",{class:"text-sm py-2"},'It Will Be Saved At "[Internal_Storage] -> Android -> data -> app.rzel.tweezel -> files -> Global_Backup -> [Here]". It\'s Extension Is ".tweezeldata"',-1),Te=(0,s._)("p",{class:"text-sm py-2"},'Later. U Can Use "Choose Whole Story Backup To Load." Button To Select The File And Restore Your Backup. Or Just To Share It To Your Friends And Let Them Load Your Story Into Their Devices :).',-1),Ce=(0,s._)("div",{class:"divider"},null,-1),Ie=(0,s._)("p",{class:"text-base py-2"},"Load Entire Story From Backup.",-1),Ae=(0,s._)("p",{class:"text-sm py-2"},"IF THE STORY IS ALREADY EXIST. THIS WILL REPLACE IT !.",-1),Le=(0,s._)("dialog",{id:"about-modal",class:"modal modal-bottom sm:modal-middle"},[(0,s._)("div",{class:"modal-box relative"},[(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")]),(0,s._)("p",{class:"p-1 mt-2"},"TweezeL Is A Free Tools For Creating Twine Games Focused For Android. But It Quite Works Well On Any Device With Browser On It. :3."),(0,s._)("p",{class:"p-1 mt-2"},"The Feature Is Not Good Like Twine Or Tweego. But At Least It's Device Friendly Than Twine. And User Friendly Than Tweego. :)"),(0,s._)("p",{class:"p-1 mt-2"},"Now This Tools Already Support All Official Listed Story Formats On Twine 2 Tools. Such As Chapbook, Harlowe, Snowman, And Sugarcube."),(0,s._)("p",{class:"p-1 mt-2"},[(0,s.Uk)("If You Don't Know What To Choose For Your Game Story Formats. Just Create A New Story. Set The StoryFormats On The Story Global Setting."),(0,s._)("br"),(0,s.Uk)(" And Play The Story. Try All The StoryFormats One By One. Till U Find It Perfect For Your Game."),(0,s._)("br"),(0,s.Uk)(" Also. Every StoryFormats Has It's Own Documentations. If U Plan For Longer Gameplay For Your Game. Think About This StoryFormats Seriously. :3."),(0,s._)("br"),(0,s.Uk)(" My Personal Recomendations Is... "),(0,s._)("b",null,"Sugarcube 2"),(0,s.Uk)("...")]),(0,s._)("p",{class:"p-1 mt-2"},[(0,s.Uk)("This Tools Is More Or Less Like Tweego But With GUI. For Those Who Never Code Twine Games With Tweego And Wanna Try This Tools."),(0,s._)("br"),(0,s.Uk)(" Just Create A New Story To Read Some Very Basic Tutorial :)."),(0,s._)("br"),(0,s.Uk)(" Or "),(0,s._)("a",{class:"text-primary-content underline",href:"https://www.youtube.com/playlist?list=PLb4OE-UTEU-86vltmWTJTBkbYEWbGSebe",target:"_blank",rel:"noopener noreferrer"},"Go To Here."),(0,s.Uk)(" It's My Youtube Playlist. Some Video About This Project. Like Basic Tutorial And Such Things.")]),(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-success btn-block btn-sm mt-2"},"Happy Creating !.")])])],-1);var ze={__name:"MainView",setup(e){const t=i(),o=(0,n.iH)(""),l=(0,n.iH)(!1),c=(0,n.iH)("story"),d=(0,n.iH)(t.story),u=(0,n.iH)(t.themeList),p=(0,n.iH)(null),m=(0,n.iH)(null),g=(0,n.iH)(null),b=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let h=(0,n.iH)("");function y(){t.themeList=["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],b.show("Refresh The App To See The Changes...",{type:"success"})}function w(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function D(){return w().toString().toUpperCase()}function E(){if(o.value.length<1)b.show("Story Name Is Required...",{type:"error"});else{let e=D(),a={title:o.value,ifid:e,startNode:"1",userStyle:"/* Design Your Styling In Here */",userScript:"// Type Your Own Javascript In Here",storyformats:"sugarcube-2",imageList:[],passage:[{name:"start",pid:"1",data:'This Is Your Start Passage.\nQuick Tips.\nTo Add Link / Ways To Other Passage Use\n[[about]] <- This Display "about", When Clicked Go To "about" Passage.\n[[This Is About|about]] <- This Display "This Is About", When Clicked Go To "about" Passage.'},{name:"about",pid:"2",data:'This Is Your About Passage\nTry To Link From Here To "start" Just Use Like In The [[start]] Passage.\nBeware Of Passage Link That Leads To Nowhere !. Like This -> [[pit]] Or [[Go To Pit|pit]].\nTo Fix That, Try To Add A New Passage And Name It "pit".'}]};t.story.push(a),l.value=!1,o.value=""}}function W(e){t.story=d.value.filter((t=>t.ifid!==e)),d.value=t.story}function $(e){let t=!1;return e.title&&e.ifid&&e.startNode&&e.passage&&(t=!0),t}function ze(){let e=document.getElementById("jsonfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,a=JSON.parse(o);if($(a)){const e=t.story.find((e=>e.ifid==a.ifid));e&&W(a.ifid),t.story.push(a)}else b.error("Wrong File To Read...");c.value="story"},o.readAsText(e)}}function He(){let e=document.getElementById("jsonwholestoryfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,a=JSON.parse(o);if(a.length>0)for(let l=0;l<a.length;l++)if($(a[l])){const e=t.story.find((e=>e.ifid==a[l].ifid));e&&W(a[l].ifid),t.story.push(a[l])}else b.error("Wrong File To Read...");c.value="story"},o.readAsText(e)}}function De(e){t.theme=e.target.value}t.groupState="",window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),g.value=e})),window.addEventListener("appinstalled",(()=>{g.value=null}));const Me=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};function Be(e,t){const o=Me(e),a=["January","February","March","April","May","June","July","August","September","October","November","December"],l=new Date,s=o+" "+l.getDate()+" "+a[l.getMonth()]+" "+l.getFullYear()+".tweezeldata";var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",s),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),b.success("Done...")}let Ee=(0,s.Fl)((()=>""===h.value?d.value:d.value.filter((e=>e.title.toLowerCase().replace(/\s+/g,"").includes(h.value.toLowerCase().replace(/\s+/g,""))))));const je=e=>{t.detectErrPassage=e},Fe=()=>{document.getElementById("create-modal").showModal()},Pe=()=>{document.getElementById("setting-modal").showModal()},Ne=()=>{document.getElementById("about-modal").showModal()};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:"flex flex-col h-screen",style:(0,r.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,s._)("div",k,[S,(0,s._)("div",x,[U,(0,s._)("ul",T,[(0,s._)("li",C,[(0,s._)("button",{onClick:l[0]||(l[0]=e=>Pe())},"Setting")]),(0,s._)("li",I,[(0,s._)("button",{onClick:l[1]||(l[1]=e=>Ne())},"About")]),g.value?((0,s.wg)(),(0,s.iD)("li",A,[(0,s._)("label",{onClick:l[2]||(l[2]=e=>g.value.prompt())},"Install")])):(0,s.kq)("",!0)])])]),(0,s._)("div",L,[(0,s._)("label",z,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>(0,n.dq)(h)?h.value=e:h=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow join-item"},null,512),[[a.nr,(0,n.SU)(h)]]),(0,s._)("span",{onClick:l[4]||(l[4]=e=>(0,n.dq)(h)?h.value="":h=""),class:"cursor-pointer join-item btn btn-xs"},[(0,n.SU)(h).length>0?((0,s.wg)(),(0,s.iD)("svg",H,M)):((0,s.wg)(),(0,s.iD)("svg",B,j))])])]),(0,s._)("div",F,[(0,s._)("div",P,[(0,n.SU)(Ee).length>0?((0,s.wg)(),(0,s.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(Ee),handle:".handle","item-key":"title"},{item:(0,s.w5)((({element:e})=>[(0,s._)("div",N,[0==(0,n.SU)(h).length?((0,s.wg)(),(0,s.iD)("div",O,q)):(0,s.kq)("",!0),(0,s._)("div",Y,[(0,s._)("div",R,[V,(0,s._)("ul",G,[(0,s._)("li",null,[(0,s._)("button",{onClick:t=>W(e.ifid),class:"bg-error text-error-content"}," Delete ",8,J)])])])]),(0,s.Wm)((0,n.SU)(f.rH),{to:`/story/${e.ifid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.title),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,s.kq)("",!0)])])],4),(0,s._)("div",{onClick:l[5]||(l[5]=e=>Fe()),class:"btn btn-primary btn-circle absolute bottom-5 right-5 cursor-pointer"},K),(0,s._)("dialog",Z,[(0,s._)("div",Q,[X,ee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>o.value=e),type:"text",placeholder:"Story Title",class:"input input-bordered w-full"},null,512),[[a.nr,o.value]]),(0,s._)("div",te,[(0,s._)("form",oe,[(0,s._)("button",{onClick:l[7]||(l[7]=e=>E()),class:"btn btn-success"},"Start Creating !.")])])])]),(0,s._)("dialog",ae,[(0,s._)("div",le,[se,re,ne,(0,s._)("div",ie,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"form-control"},[(0,s._)("label",{class:"label cursor-pointer bg-base-100 rounded-md p-2","data-theme":e},[(0,s._)("div",de,[ue,pe,me,ge,(0,s._)("span",be,(0,r.zw)(e),1)]),(0,s._)("input",{type:"radio",name:"theme-radio",class:"radio",value:e,onChange:l[8]||(l[8]=e=>De(e)),checked:(0,n.SU)(t).theme===e},null,40,he)],8,ce)])))),128))]),(0,s._)("button",{onClick:l[9]||(l[9]=e=>y()),class:"btn btn-primary btn-block btn-sm mt-2"},"Refresh Theme List ?."),ye,(0,s._)("label",fe,[(0,s.Uk)(" Detect Error Passage ?. (Experimental) "),(0,s._)("input",{type:"checkbox",class:"toggle",checked:(0,n.SU)(t).detectErrPassage,onChange:l[10]||(l[10]=e=>je(e.target.checked))},null,40,we)]),ve,_e,ke,(0,s._)("button",{onClick:l[11]||(l[11]=e=>p.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Story Backup To Load."),(0,s._)("input",{onChange:ze,class:"h-0 w-0",type:"file",id:"jsonfileinput",ref_key:"loadStory",ref:p,accept:".tweezeldata"},null,544),Se,xe,Ue,Te,(0,s._)("button",{onClick:l[12]||(l[12]=e=>Be("TweezeL Backup",JSON.stringify((0,n.SU)(t).story))),class:"btn btn-primary btn-block btn-sm"},"Backup The Entire Story."),Ce,Ie,Ae,(0,s._)("button",{onClick:l[13]||(l[13]=e=>m.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Whole Story Backup To Load."),(0,s._)("input",{onChange:He,class:"h-0 w-0",type:"file",id:"jsonwholestoryfileinput",ref_key:"loadWholeStory",ref:m,accept:".tweezeldata"},null,544)])]),Le],64))}};const He=ze;var De=He,Me=o(7758),Be=o.n(Me);const Ee={class:"navbar bg-primary shadow-lg text-primary-content"},je=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Fe=[je],Pe={class:"grow truncate"},Ne={class:"normal-case text-xl truncate font-semibold"},Oe=(0,s._)("button",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,s._)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])],-1),We={class:"form-control p-2"},qe={class:"join w-full"},Ye={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Re=(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Ve=[Re],Ge={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Je=(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),$e=[Je],Ke={key:0,class:"p-2"},Ze={class:"alert alert-error items-start flex flex-col gap-1"},Qe=(0,s._)("div",{class:"flex flex-row gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Error! Below Are The Passage That Have An Invalid Passage Link !.")],-1),Xe={class:"w-full grow p-2 overflow-auto flex flex-col"},et={class:"grow overflow-auto pb-[69px]"},tt={key:0,class:"handle absolute left-3 cursor-move"},ot=(0,s._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),at=[ot],lt={class:"flex absolute right-3"},st={class:"dropdown dropdown-bottom dropdown-end"},rt=(0,s._)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-sm"},[(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),nt={class:"dropdown-content z-[1] menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},it=["onClick"],ct={class:"absolute bottom-5 right-5 flex flex-row gap-5"},dt=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1),ut=[dt],pt=(0,s._)("svg",{class:"h-6 w-6 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1),mt=[pt],gt=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),bt=[gt],ht=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),yt=[ht],ft={id:"create-modal",class:"modal modal-bottom sm:modal-middle"},wt={class:"modal-box relative"},vt=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),_t=(0,s._)("h3",{class:"font-bold text-lg mb-4"},"Passage Name...",-1),kt={class:"modal-action"},St={method:"dialog"},xt={id:"image-modal",class:"modal modal-bottom sm:modal-middle"},Ut={class:"modal-box p-0 relative"},Tt=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),Ct={class:"p-2"},It=(0,s._)("h3",{class:"font-bold text-lg mb-4"},"Image List...",-1),At={class:"flex flex-col gap-2"},Lt={class:"w-14 h-14"},zt=["src"],Ht=["onUpdate:modelValue"],Dt=["onClick"],Mt={key:1,class:"bg-primary p-1 rounded-md text-primary-content flex flex-row gap-2 items-center"},Bt={key:0,class:"text-sm pt-2"},Et=(0,s._)("br",null,null,-1),jt={class:"modal-action sticky bg-base-100 bottom-0 p-2"};var Ft={__name:"StoryView",setup(e){const t=i(),o=(0,f.yj)(),l=(0,n.iH)(!1),c=(0,n.iH)(null),d=(0,n.iH)(""),u=(0,n.iH)(!1),p=(0,n.iH)([]),m=o.params.id,g=e=>e.ifid==m,b=t.story.findIndex(g),h=(0,n.iH)(t.story[b].imageList),y=(0,n.iH)(t.story[b].passage),w=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let k=(0,n.iH)("");function S(e){var o=!1;for(let a=0;a<t.story[b].passage.length;a++)t.story[b].passage[a].name==e&&(o=!0);return o}function x(){if(d.value.length<1)w.show("Passage Name Is Required...",{type:"error"});else if(S(d.value))d.value="",w.show("Passage Name Already Exist...",{type:"error"});else{let e=1,o=[];for(let a=0;a<t.story[b].passage.length;a++)o.push(t.story[b].passage[a].pid);o.sort((function(e,t){return e-t}));for(let t=0;t<o.length;t++)o[t]==e&&e++;t.story[b].passage.push({name:d.value,pid:e.toString(),data:"Edit Your New Passage..."}),l.value=!1,d.value=""}}function U(e){t.story[b].passage=y.value.filter((t=>t.pid!==e)),y.value=t.story[b].passage}t.storyId=b;let T=(0,s.Fl)((()=>""===k.value?y.value:y.value.filter((e=>e.name.toLowerCase().replace(/\s+/g,"").includes(k.value.toLowerCase().replace(/\s+/g,""))||e.tags&&e.tags.toLowerCase().replace(/\s+/g,"").includes(k.value.toLowerCase().replace(/\s+/g,""))))));const C=e=>{let t="";return t=e.includes("][")?e.split("][")[0].trim():e,t},I=()=>{t.detectErrPassage&&t.story[b].passage.forEach((e=>{const o=e.data.match(/\[\[(.*?)\]\]/g);let a=[];o&&o.length>0&&o.forEach((e=>{let o=!1,l=e.replaceAll("[[","").replaceAll("]]","").split("|"),s="";s=l.length<2?l[0].includes("<-")?C(l[0].split("<-")[0].trim()):l[0].includes("->")?C(l[0].split("->")[l[0].split("->").length=1].trim()):l[l.length-1].trim():l[l.length-1].trim(),t.story[b].passage.forEach((e=>{o||e.name==s&&(o=!0)})),o||a.includes(s)||a.push(s)})),e.error=a,e.error&&e.error.length>0&&p.value.push(e.name)}))};function A(e){const o=e.target.files[0];o&&new(Be())(o,{quality:.6,success(e){const o=e;let a=new FileReader;a.onload=function(e){let o=e.target.result;if(t.story[b].imageList){let e=1,a=[];for(let o=0;o<t.story[b].imageList.length;o++)a.push(t.story[b].imageList[o].id);a.sort((function(e,t){return e-t}));for(let t=0;t<a.length;t++)a[t]==e&&e++;t.story[b].imageList.push({name:"image-name-"+e.toString(),src:o,id:e.toString()})}else t.story[b].imageList=[],t.story[b].imageList.push({name:"image-name-1",src:o,id:"1"});c.value.value=null},a.readAsDataURL(o)},error(e){console.log(e.message)}})}function L(e){t.story[b].imageList=t.story[b].imageList.filter((t=>t.id!==e)),h.value=t.story[b].imageList}const z=()=>{document.getElementById("create-modal").showModal()},H=()=>{document.getElementById("image-modal").showModal()};return I(),(e,o)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:"flex flex-col h-screen",style:(0,r.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,s._)("div",Ee,[(0,s._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},Fe),(0,s._)("div",Pe,[(0,s._)("div",Ne,(0,r.zw)((0,n.SU)(t).story[(0,n.SU)(b)].title),1)]),(0,s.Wm)((0,n.SU)(f.rH),{to:`/story/${(0,n.SU)(m)}/global`},{default:(0,s.w5)((()=>[Oe])),_:1},8,["to"])]),(0,s._)("div",We,[(0,s._)("label",qe,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.dq)(k)?k.value=e:k=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow join-item"},null,512),[[a.nr,(0,n.SU)(k)]]),(0,s._)("span",{onClick:o[2]||(o[2]=e=>(0,n.dq)(k)?k.value="":k=""),class:"cursor-pointer join-item btn btn-xs"},[(0,n.SU)(k).length>0?((0,s.wg)(),(0,s.iD)("svg",Ye,Ve)):((0,s.wg)(),(0,s.iD)("svg",Ge,$e))])])]),p.value.length>0?((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s._)("div",Ze,[Qe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(t).story[(0,n.SU)(b)].passage,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[e.error&&e.error.length>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(' In "'+(0,r.zw)(e.name)+'" Path Found "'+(0,r.zw)(e.error.join(", "))+'" ',1)],64)):(0,s.kq)("",!0)])))),128))])])):(0,s.kq)("",!0),(0,s._)("div",Xe,[(0,s._)("div",et,[(0,n.SU)(T).length>0?((0,s.wg)(),(0,s.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(T),handle:".handle","item-key":"pid"},{item:(0,s.w5)((({element:e})=>[(0,s._)("div",{class:(0,r.C_)([e.error&&e.error.length>0&&(0,n.SU)(t).detectErrPassage?"bg-error text-error-content hover:bg-error/80":"hover:bg-black/20","relative flex items-center transition-all"])},[0==(0,n.SU)(k).length?((0,s.wg)(),(0,s.iD)("div",tt,at)):(0,s.kq)("",!0),(0,s._)("div",lt,[(0,s._)("div",st,[rt,(0,s._)("ul",nt,[(0,s._)("li",null,[(0,s._)("button",{onClick:t=>U(e.pid),class:"bg-error text-error-content"}," Delete ",8,it)])])])]),(0,s.Wm)((0,n.SU)(f.rH),{to:`/story/${(0,n.SU)(t).story[(0,n.SU)(b)].ifid}/edit/${e.pid}`,class:(0,r.C_)(["py-4 static w-full px-12 truncate"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.name),1)])),_:2},1032,["to"])],2)])),_:1},8,["list"])):(0,s.kq)("",!0)])])],4),(0,s._)("div",ct,[(0,s.Wm)((0,n.SU)(f.rH),{to:`/story/${(0,n.SU)(m)}/play`},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[3]||(o[3]=e=>(0,n.SU)(t).playState="export")},ut)])),_:1},8,["to"]),(0,s.Wm)((0,n.SU)(f.rH),{to:`/story/${(0,n.SU)(m)}/play`},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[4]||(o[4]=e=>(0,n.SU)(t).playState="play")},mt)])),_:1},8,["to"]),(0,s._)("button",{onClick:o[5]||(o[5]=e=>H()),class:"btn btn-primary btn-circle cursor-pointer"},bt),(0,s._)("button",{onClick:o[6]||(o[6]=e=>z()),class:"btn btn-primary btn-circle cursor-pointer"},yt)]),(0,s._)("dialog",ft,[(0,s._)("div",wt,[vt,_t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>d.value=e),type:"text",placeholder:"Passage Name",class:"input input-bordered w-full"},null,512),[[a.nr,d.value]]),(0,s._)("div",kt,[(0,s._)("form",St,[(0,s._)("button",{onClick:o[8]||(o[8]=e=>x()),class:"btn btn-success"},"Add Passage.")])])])]),(0,s._)("dialog",xt,[(0,s._)("div",Ut,[Tt,(0,s._)("div",Ct,[It,(0,s._)("div",At,[h.value&&h.value.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(h.value,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"bg-primary py-1 px-3 rounded-md text-primary-content flex flex-row gap-2 items-center"},[(0,s._)("div",Lt,[(0,s._)("img",{src:e.src,class:"w-full h-full object-contain"},null,8,zt)]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e=>(0,n.SU)(t).story[(0,n.SU)(b)].imageList[o].name=e,type:"text",placeholder:"Image Name",class:"input input-bordered input-xs grow bg-secondary input-secondary text-secondary-content"},null,8,Ht),[[a.nr,(0,n.SU)(t).story[(0,n.SU)(b)].imageList[o].name]]),u.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>L(e.id),class:"bg-error text-error-content p-2"}," Delete ",8,Dt)):(0,s.kq)("",!0)])))),128)):((0,s.wg)(),(0,s.iD)("div",Mt," No Image ?. No Problem. Try Add 1. "))]),h.value&&h.value.length>0?((0,s.wg)(),(0,s.iD)("p",Bt,[(0,s.Uk)(' Put Image Name Inside src And Wrap It Using "%img% your_image_name %".'),Et,(0,s.Uk)("Example : "+(0,r.zw)('<img src="%img% ')),(0,s._)("u",null,(0,r.zw)(`${(0,n.SU)(t).story[(0,n.SU)(b)].imageList[0].name}`),1),(0,s.Uk)(" "+(0,r.zw)('%" />')+". ")])):(0,s.kq)("",!0)]),(0,s._)("div",jt,[(0,s._)("label",{onClick:o[9]||(o[9]=e=>u.value=!u.value),class:"btn btn-error btn-sm"},(0,r.zw)(u.value?"Cancel Delete Image":"Delete Image")+".",1),(0,s._)("input",{onChange:A,class:"h-0 w-0",type:"file",id:"imageFileInput",ref_key:"addImageButton",ref:c,accept:"image/*"},null,544),(0,s._)("label",{onClick:o[10]||(o[10]=e=>c.value.click()),class:"btn btn-success btn-sm"},"Add Image.")])])])],64))}};const Pt=Ft;var Nt=Pt,Ot=o(5357),Wt=o(5406);const qt={class:"navbar bg-primary shadow-lg text-primary-content"},Yt=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Rt=[Yt],Vt=(0,s._)("div",{class:"grow truncate"},[(0,s._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Editing Passage")],-1),Gt=(0,s._)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1),Jt=[Gt],$t={class:"w-full px-2 pb-2 flex flex-col gap-2 grow h-0"},Kt={class:"form-control"},Zt=(0,s._)("label",{class:"label"},[(0,s._)("span",{class:"label-text"},"Passage Names")],-1),Qt={class:"join w-full"},Xt=(0,s._)("span",null,"Set",-1),eo=[Xt],to={class:"overflow-auto grow"},oo={id:"additional-modal",class:"modal modal-bottom sm:modal-middle"},ao={class:"modal-box relative"},lo=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),so=(0,s._)("h3",{class:"text-xl"},"Tags",-1),ro=(0,s._)("p",{class:"py-1"},"Write Tags To The Story Passage. Seperated By Space(s).",-1);var no={__name:"StoryEdit",setup(e){const t=[Wt.vk],o=i(),l=(0,f.yj)(),c=l.params.id,d=e=>e.ifid==c,u=o.story.findIndex(d),p=l.params.pid,m=e=>e.pid==p,g=o.story[u].passage.findIndex(m),b=(0,n.iH)(o.story[u].passage[g].name),h=(0,n.iH)(b.value),y=(0,n.iH)(o.story[u].passage),w=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let v=y.value.map((function(e){return e.name}));function k(e){let t=0;v.forEach((function(o){o==e&&(t+=1)})),0==t?(o.story[u].passage[g].name=e,w.show("Success Changing Passage Name...",{type:"success"}),b.value=e,h.value=e):w.show("Passage Name Is Alreadys Exist Or Empty...",{type:"error"})}const S=()=>{document.getElementById("additional-modal").showModal()};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:"h-screen flex flex-col overflow-auto",style:(0,r.j5)({height:(0,n.SU)(o).innerHeight+"px"})},[(0,s._)("div",qt,[(0,s._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:l[0]||(l[0]=t=>e.$router.back())},Rt),Vt,(0,s._)("button",{onClick:l[1]||(l[1]=e=>S()),tabindex:"0",class:"btn btn-ghost btn-square m-1"},Jt)]),(0,s._)("div",$t,[(0,s._)("div",Kt,[Zt,(0,s._)("label",Qt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>h.value=e),type:"text",placeholder:"Passage Title Must Not Empty",class:"input input-bordered input-xs grow join-item"},null,512),[[a.nr,h.value]]),b.value!=h.value?((0,s.wg)(),(0,s.iD)("span",{key:0,onClick:l[3]||(l[3]=e=>k(h.value)),class:"cursor-pointer btn btn-xs join-item"},eo)):(0,s.kq)("",!0)])]),(0,s._)("div",to,[(0,s.Wm)((0,n.SU)(Ot.Z1),{modelValue:(0,n.SU)(o).story[(0,n.SU)(u)].passage[(0,n.SU)(g)].data,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,n.SU)(o).story[(0,n.SU)(u)].passage[(0,n.SU)(g)].data=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t},null,8,["modelValue"])])])],4),(0,s._)("dialog",oo,[(0,s._)("div",ao,[lo,so,ro,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>(0,n.SU)(o).story[(0,n.SU)(u)].passage[(0,n.SU)(g)].tags=e),type:"text",placeholder:"",class:"input input-bordered w-full"},null,512),[[a.nr,(0,n.SU)(o).story[(0,n.SU)(u)].passage[(0,n.SU)(g)].tags]])])])],64))}};const io=no;var co=io,uo=o(9465),po=o(4937);const mo={class:"navbar bg-primary shadow-lg text-primary-content"},go=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),bo=[go],ho=(0,s._)("div",{class:"grow truncate"},[(0,s._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Story Setting")],-1),yo={class:"tabs tabs-boxed m-2"},fo={key:0,class:"p-1 w-full grow overflow-auto px-2"},wo={class:"form-control w-full"},vo=(0,s._)("label",{class:"label"},[(0,s._)("span",{class:"label-text"},"Story Title")],-1),_o={class:"form-control w-full"},ko=(0,s._)("label",{class:"label"},[(0,s._)("span",{class:"label-text"},"Story Formats")],-1),So=["value"],xo={class:"p-2"},Uo={key:0},To=(0,s._)("a",{class:"text-primary underline",href:"https://klembot.github.io/chapbook/guide/",target:"_blank",rel:"noopener noreferrer"},"guide",-1),Co={key:1},Io=(0,s._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Ao=(0,s._)("br",null,null,-1),Lo=(0,s._)("br",null,null,-1),zo={key:2},Ho=(0,s._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Do=(0,s._)("br",null,null,-1),Mo=(0,s._)("br",null,null,-1),Bo={key:3},Eo=(0,s._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),jo=(0,s._)("br",null,null,-1),Fo=(0,s._)("br",null,null,-1),Po={key:4},No=(0,s._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/2/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Oo={key:5},Wo=(0,s._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/1/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),qo={key:6},Yo=(0,s._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/2/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Ro=(0,s._)("br",null,null,-1),Vo=(0,s._)("br",null,null,-1),Go={key:7},Jo=(0,s._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/1/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),$o=(0,s._)("br",null,null,-1),Ko=(0,s._)("br",null,null,-1),Zo={key:8},Qo=(0,s._)("div",{class:"divider m-0"},null,-1),Xo={class:"form-control w-full"},ea=(0,s._)("label",{class:"label"},[(0,s._)("span",{class:"label-text"},"Story Will Start At : ")],-1),ta=["value"],oa={class:"form-control w-full"},aa=(0,s._)("label",{class:"label"},[(0,s._)("span",{class:"label-text"},"IFID")],-1),la=(0,s._)("div",{class:"divider"},null,-1),sa=(0,s._)("p",{class:"text-sm py-2"},'It Will Be Saved At "[Internal_Storage] -> Android -> data -> app.rzel.tweezel -> files -> Backup -> [Story Name] -> [Here]". It\'s Extension Is ".tweezeldata"',-1),ra=(0,s._)("p",{class:"text-sm py-2"},'Later. U Can Use "Choose Story Backup To Load." Button At The Main Screen Setting To Select The File And Restore Your Backup. Or Just To Share It To Your Friends And Let Them Load Your Story Into Their Devices :).',-1),na={key:1,class:"w-full p-1 flex flex-col gap-2 grow h-0 overflow-auto"},ia={key:2,class:"w-full p-1 flex flex-col gap-2 grow h-0 overflow-auto"};var ca={__name:"GlobalSettingStory",setup(e){const t=(0,_.RN)({position:"top",duration:2e3,dismissible:!0}),o=[Wt.vk,(0,uo.iv)()],l=[Wt.vk,(0,po.eJ)()],c=i(),d=(0,f.yj)(),u=(0,n.iH)("setting"),p=d.params.id,m=e=>e.ifid==p,g=c.story.findIndex(m),b=(0,n.iH)([{name:"Chapbook 1.2.1",val:"chapbook-1"},{name:"Harlowe 3.2.3",val:"harlowe-3"},{name:"Harlowe 2.1.0",val:"harlowe-2"},{name:"Harlowe 1.2.4",val:"harlowe-1"},{name:"Snowman 2.0.2",val:"snowman-2"},{name:"Snowman 1.4.0",val:"snowman-1"},{name:"SugarCube 2.36.1",val:"sugarcube-2"},{name:"SugarCube 1.0.35",val:"sugarcube-1"}]),h=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};function y(e,o){const a=h(e),l=["January","February","March","April","May","June","July","August","September","October","November","December"],s=new Date,r=a+" "+s.getDate()+" "+l[s.getMonth()]+" "+s.getFullYear()+".tweezeldata";var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),n.setAttribute("download",r),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),t.success("Done...")}return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"h-screen flex flex-col",style:(0,r.j5)({height:(0,n.SU)(c).innerHeight+"px"})},[(0,s._)("div",mo,[(0,s._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:t[0]||(t[0]=t=>e.$router.back())},bo),ho]),(0,s._)("div",yo,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>u.value="setting"),class:(0,r.C_)(["setting"==u.value?"tab-active":"","tab grow"])},"Setting",2),(0,s._)("button",{onClick:t[2]||(t[2]=e=>u.value="css"),class:(0,r.C_)(["css"==u.value?"tab-active":"","tab grow"])},"CSS",2),(0,s._)("button",{onClick:t[3]||(t[3]=e=>u.value="js"),class:(0,r.C_)(["js"==u.value?"tab-active":"","tab grow"])},"Javascript",2)]),"setting"==u.value?((0,s.wg)(),(0,s.iD)("div",fo,[(0,s._)("div",wo,[vo,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].title=e),type:"text",placeholder:"Story Title Must Not Empty",class:"input input-bordered w-full"},null,512),[[a.nr,(0,n.SU)(c).story[(0,n.SU)(g)].title]])]),(0,s._)("div",_o,[ko,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].storyformats=e),class:"select select-bordered w-full"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.value,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.val,key:t},(0,r.zw)(e.name),9,So)))),128))],512),[[a.bM,(0,n.SU)(c).story[(0,n.SU)(g)].storyformats]])]),(0,s._)("div",xo,["chapbook-1"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Uo,[(0,s.Uk)(" A Twine story format emphasizing ease of authoring, multimedia, and playability on many different types of devices. Visit the "),To,(0,s.Uk)(" for more information. ")])):(0,s.kq)("",!0),"harlowe-3"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Co,[(0,s.Uk)(" The default story format for Twine 2. Consult its "),Io,(0,s.Uk)("."),Ao,Lo,(0,s.Uk)(" License: Zlib ")])):(0,s.kq)("",!0),"harlowe-2"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",zo,[(0,s.Uk)(" The default story format for Twine 2. See its "),Ho,(0,s.Uk)("."),Do,Mo,(0,s.Uk)(" License: Zlib ")])):(0,s.kq)("",!0),"harlowe-1"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Bo,[(0,s.Uk)(" The default story format for Twine 2. See its "),Eo,(0,s.Uk)("."),jo,Fo,(0,s.Uk)(" License: Zlib ")])):(0,s.kq)("",!0),"snowman-2"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Po,[(0,s.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),No,(0,s.Uk)(". ")])):(0,s.kq)("",!0),"snowman-1"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Oo,[(0,s.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),Wo,(0,s.Uk)(". ")])):(0,s.kq)("",!0),"sugarcube-2"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",qo,[(0,s.Uk)(" A full featured, highly customizable story format. See its "),Yo,(0,s.Uk)("."),Ro,Vo,(0,s.Uk)(" License: BSD-2-Clause ")])):(0,s.kq)("",!0),"sugarcube-1"==(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?((0,s.wg)(),(0,s.iD)("div",Go,[(0,s.Uk)(" A Twine 2 port of the Twine 1 story format by the same name. See its "),Jo,(0,s.Uk)("."),$o,Ko,(0,s.Uk)(" License: Simplified BSD License ")])):(0,s.kq)("",!0),(0,n.SU)(c).story[(0,n.SU)(g)].storyformats?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zo," Choose Story Formats. To See It's Descriptions And Link To It's Documentations. "))]),Qo,(0,s._)("div",Xo,[ea,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].startNode=e),class:"select select-bordered w-full"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(c).story[(0,n.SU)(g)].passage,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.pid,key:t},(0,r.zw)(e.name),9,ta)))),128))],512),[[a.bM,(0,n.SU)(c).story[(0,n.SU)(g)].startNode]])]),(0,s._)("div",oa,[aa,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].ifid=e),disabled:"",type:"text",class:"input input-disabled input-bordered w-full"},null,512),[[a.nr,(0,n.SU)(c).story[(0,n.SU)(g)].ifid]])]),la,(0,s._)("button",{onClick:t[8]||(t[8]=e=>y((0,n.SU)(c).story[(0,n.SU)(g)].title,JSON.stringify((0,n.SU)(c).story[(0,n.SU)(g)]))),class:"btn btn-primary btn-block my-3"},"Backup This Story."),sa,ra])):(0,s.kq)("",!0),"css"==u.value?((0,s.wg)(),(0,s.iD)("div",na,[(0,s.Wm)((0,n.SU)(Ot.Z1),{modelValue:(0,n.SU)(c).story[(0,n.SU)(g)].userStyle,"onUpdate:modelValue":t[9]||(t[9]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].userStyle=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:o},null,8,["modelValue"])])):(0,s.kq)("",!0),"js"==u.value?((0,s.wg)(),(0,s.iD)("div",ia,[(0,s.Wm)((0,n.SU)(Ot.Z1),{modelValue:(0,n.SU)(c).story[(0,n.SU)(g)].userScript,"onUpdate:modelValue":t[10]||(t[10]=e=>(0,n.SU)(c).story[(0,n.SU)(g)].userScript=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:l},null,8,["modelValue"])])):(0,s.kq)("",!0)],4))}};const da=ca;var ua=da;const pa={key:0,class:"p-2"},ma={key:1,class:"grow flex flex-col"},ga={class:"grow flex flex-col bg-white relative"},ba={class:"absolute bottom-0 left-0"},ha=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-white"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ya=[ha],fa=["srcdoc"],wa={class:"grow flex flex-col"},va={class:"navbar bg-primary shadow-lg text-primary-content"},_a=(0,s._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),ka=[_a],Sa=(0,s._)("div",{class:"grow truncate"},[(0,s._)("div",{class:"normal-case text-xl truncate px-0 font-semibold"},"Play Story")],-1),xa={key:0,class:"p-4"},Ua={key:1,class:"p-4"},Ta=(0,s._)("div",{role:"alert",class:"alert alert-success shadow-lg flex flex-row"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Export Completed...")],-1),Ca=(0,s._)("p",{class:"text-sm py-2"},'It Will Be Saved At "[Internal_Storage] -> Android -> data -> app.rzel.tweezel -> files -> Export -> [Story Name] -> [Here]". It\'s Extension Is ".html"',-1),Ia=(0,s._)("p",{class:"text-sm py-2"},"Nice. You Already Exported Your Game !. Go On, Upload Your Game To A Website Like Itch.io Or Your Own Website !. Or Simply Share It To Your Friends And Have Them Play Your Game !.",-1),Aa=[Ta,Ca,Ia],La={id:"close-modal",class:"modal modal-bottom sm:modal-middle"},za={class:"modal-box relative"},Ha=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1),Da=(0,s._)("h3",{class:"font-bold text-lg mb-4"},"Quit Preview...???",-1),Ma={class:"modal-action"},Ba=(0,s._)("form",{method:"dialog"},[(0,s._)("button",{class:"btn btn-ghost"},"No.")],-1);var Ea={__name:"PlayStory",setup(e){const t=(0,_.RN)({position:"top",duration:2e3,dismissible:!0}),l=i(),c=(0,f.yj)(),d=c.params.id,u=e=>e.ifid==d,p=l.story.findIndex(u),m=new URL(o(9466),o.b).href,g=new URL(o(8301),o.b).href,b=new URL(o(5002),o.b).href,h=new URL(o(4179),o.b).href,y=new URL(o(3412),o.b).href,w=new URL(o(145),o.b).href,v=new URL(o(2519),o.b).href,k=new URL(o(2596),o.b).href,S=(0,n.iH)(""),x=(0,n.iH)(!1),U=(0,n.iH)(!0);sessionStorage.clear();const T=(0,n.iH)([]);function C(e){let t="",o="";for(let s=0;s<l.story[p].passage.length;s++){let e=l.story[p].passage[s].data,a=e.match(/%img%[\s\S]*?%/gi);a&&a.length>0&&a.map((t=>{let o=t.split("%img%").join("").slice(0,-1).trim();const a=l.story[p].imageList.find((e=>e.name.trim()==o));a&&(e=e.replace(t,a.src))}));let r=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");o='<tw-passagedata pid="'+l.story[p].passage[s].pid+'" name="'+l.story[p].passage[s].name+'" tags="'+l.story[p].passage[s].tags+'" position="100,100" size="100,100">'+r+"</tw-passagedata>",t+=o}let a=e.replace(/tweezelStoryTitle/g,l.story[p].title).replace(/tweezelStoryIfid/g,l.story[p].ifid).replace(/tweezelStoryStartNode/g,l.story[p].startNode).replace(/tweezelStoryUserStyle/g,l.story[p].userStyle).replace(/tweezelStoryUserScript/g,l.story[p].userScript).replace(/tweezelStoryPassage/g,t).replace(/tweezelVersion/g,"1.3.0");S.value=a}function I(){U.value=!1,"play"==l.playState&&(x.value=!0)}0==l.story[p].passage.length&&T.value.push("No Passage To Play With. Add Some Passage First."),l.story[p].storyformats||T.value.push("Story Formats Is Not Set. Set First In Global Story Setting."),"chapbook-1"==l.story[p].storyformats?fetch(m).then((e=>e.text())).then((e=>{C(e)})):"harlowe-1"==l.story[p].storyformats?fetch(g).then((e=>e.text())).then((e=>{C(e)})):"harlowe-2"==l.story[p].storyformats?fetch(b).then((e=>e.text())).then((e=>{C(e)})):"harlowe-3"==l.story[p].storyformats?fetch(h).then((e=>e.text())).then((e=>{C(e)})):"snowman-1"==l.story[p].storyformats?fetch(y).then((e=>e.text())).then((e=>{C(e)})):"snowman-2"==l.story[p].storyformats?fetch(w).then((e=>e.text())).then((e=>{C(e)})):"sugarcube-1"==l.story[p].storyformats?fetch(v).then((e=>e.text())).then((e=>{C(e)})):"sugarcube-2"==l.story[p].storyformats&&fetch(k).then((e=>e.text())).then((e=>{C(e)})),(0,s.YP)((()=>S.value),(e=>{0!==e.length&&"export"===l.playState&&z()}));const A=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};function L(e,o){const a=A(e),l=a+".html";var s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),s.setAttribute("download",l),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),t.success("Done...")}function z(){L(l.story[p].title,S.value)}const H=()=>{document.getElementById("close-modal").showModal()};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"flex h-screen overflow-auto flex-col",style:(0,r.j5)({height:(0,n.SU)(l).innerHeight+"px"})},[T.value.length>0?((0,s.wg)(),(0,s.iD)("div",pa,[(0,s.Uk)(" There Is Some Error In Your Story. Here Is The Error(s) : "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(T.value,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},(0,r.zw)(t+1)+". "+(0,r.zw)(e),1)))),128)),(0,s._)("span",{class:"text-primary-content underline",onClick:t[0]||(t[0]=t=>e.$router.back())},"Click Here To Go Back.")])):((0,s.wg)(),(0,s.iD)("div",ma,[(0,s.wy)((0,s._)("div",ga,[(0,s._)("div",ba,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>H()),tabindex:"0",class:"btn btn-ghost btn-square btn-xs bg-black/20"},ya)]),(0,s._)("iframe",{id:"storyWindow",class:"grow",srcdoc:S.value,onLoad:t[2]||(t[2]=e=>I())},null,40,fa)],512),[[a.F8,x.value]]),(0,s.wy)((0,s._)("div",wa,[(0,s._)("div",va,[(0,s._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:t[3]||(t[3]=t=>e.$router.back())},ka),Sa]),U.value?((0,s.wg)(),(0,s.iD)("div",xa,"Loading The Game... Please Wait A Bit...")):((0,s.wg)(),(0,s.iD)("div",Ua,Aa))],512),[[a.F8,!x.value]])])),(0,s._)("dialog",La,[(0,s._)("div",za,[Ha,Da,(0,s._)("div",Ma,[Ba,(0,s._)("button",{onClick:t[4]||(t[4]=t=>e.$router.back()),for:"create-modal",class:"btn btn-success"},"Yes.")])])])],4))}};const ja=Ea;var Fa=ja;const Pa=(0,f.p7)({history:(0,f.PO)("/tweezel-web/"),routes:[{path:"/",name:"home",component:De},{path:"/story/:id",name:"story",component:Nt},{path:"/story/:id/edit/:pid",name:"edit story",component:co},{path:"/story/:id/global",name:"global setting",component:ua},{path:"/story/:id/play",name:"play story",component:Fa},{path:"/:pathMatch(.*)*",name:"NotFound",component:De}]});var Na=Pa,Oa=o(8602);const Wa=(0,a.ri)(h),qa=(0,l.WB)();qa.use(Oa.Z),Wa.use(qa),Wa.use(Na),Wa.mount("#app")},9466:function(e,t,o){e.exports=o.p+"1f9a610d783297bd.txt"},8301:function(e,t,o){e.exports=o.p+"ebaefe6fcddf90ed.txt"},5002:function(e,t,o){e.exports=o.p+"452261ecc54653bf.txt"},4179:function(e,t,o){e.exports=o.p+"a328849ba54241ad.txt"},3412:function(e,t,o){e.exports=o.p+"1e75169c4cb4e109.txt"},145:function(e,t,o){e.exports=o.p+"e164277f2de50930.txt"},2519:function(e,t,o){e.exports=o.p+"295473832eb146c1.txt"},2596:function(e,t,o){e.exports=o.p+"a7c3d2dedda99c3c.txt"}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,a,l,s){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],s=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(n=!1,s<r&&(r=s));if(n){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,l,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/tweezel-web/"}(),function(){o.b=document.baseURI||self.location.href;var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,s,r=a[0],n=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in n)o.o(n,l)&&(o.m[l]=n[l]);if(i)var d=i(o)}for(t&&t(a);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},a=self["webpackChunktweezel"]=self["webpackChunktweezel"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(5515)}));a=o.O(a)})();